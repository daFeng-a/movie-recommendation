# 电影推荐系统流程策略图

```mermaid
flowchart TD
    A[用户注册/登录] --> B{用户有行为或评分吗？}
    B -- 有评分/行为 --> C[收集用户评分或行为数据]
    C --> D[数据预处理（合并显式评分与隐式行为）]
    D --> E[构建用户-电影矩阵]
    E --> F[协同过滤算法计算用户相似度]
    F --> G[预测用户未评分电影的兴趣度]
    G --> H[生成推荐列表]
    H --> I[展示推荐电影]
    B -- 无评分/行为 --> J{是否新用户？}
    J -- 是新用户 --> K[冷启动策略（推荐热门、新片、类型电影）]
    K --> I
    J -- 老用户但无行为/评分 --> L[鼓励用户打分或浏览]
    L --> K
    subgraph 系统后台流程
        M[每日凌晨定时任务]
        M --> D
    end
    subgraph 用户行为
        N[用户浏览、收藏、观看、点赞等]
        N --> C
        O[用户打分]
        O --> C
        O --> P[实时触发推荐刷新]
        P --> D
    end
```

---

## 说明

- **用户行为**：打分、浏览、收藏等都会被系统记录，作为协同过滤的“显式”或“隐式”评分。
- **冷启动**：新用户或无行为/评分用户，推荐热门电影、新片或类型匹配电影。
- **定时任务**：每天凌晨批量为所有用户刷新推荐列表。
- **实时任务**：用户有新评分或明显行为时，实时刷新其推荐列表。
- **核心算法**：以用户-物品矩阵为基础，结合用户相似度进行协同过滤推荐。